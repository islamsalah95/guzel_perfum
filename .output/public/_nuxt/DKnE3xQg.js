import{u as p}from"./tYwOYGLs.js";import{r as c,k as s,D as d}from"./bb5wy1fZ.js";function _(t={}){const{getFirebaseData:i}=p(),r=c({}),o=c(!1),u=c(null),f=async()=>{o.value=!0,u.value=null;try{const e=await i("/products");r.value=e||{}}catch(e){u.value=e.message||"حدث خطأ أثناء تحميل المنتجات",console.error("Error loading products:",e)}finally{o.value=!1}},a=s(()=>r.value?Object.entries(r.value).map(([e,n])=>({...n,id:e})).filter(e=>!(t.best_seller!==void 0&&e.best_seller!==t.best_seller||t.category&&e.category!==t.category)):[]),v=e=>!r.value||!r.value[e]?null:{...r.value[e],id:e},g=s(()=>a.value.filter(e=>e.best_seller===!0)),l=e=>a.value.filter(n=>n.category===e),m=s(()=>l("man")),y=s(()=>l("women"));return{products:a,allProducts:r,loading:d(o),error:d(u),loadProducts:f,getProductById:v,bestSellers:g,mensProducts:m,womensProducts:y,getProductsByCategory:l}}export{_ as u};
