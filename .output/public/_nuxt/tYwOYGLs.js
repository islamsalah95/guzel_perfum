import{r as f,a as T,D as h,ai as u,aj as F,ak as R,al as I,am as S,an as O,ao as V,ap as L,aq as j,ar as x,as as Q,at as $,au as k,av as z,aw as C,ax as M,ay as H,az as K}from"./bb5wy1fZ.js";import{u as W}from"./C_MYWIpT.js";const l=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:F,Database:R,_QueryImpl:I,_QueryParams:S,_ReferenceImpl:O,_repoManagerDatabaseFromApp:V,_setSDKVersion:L,_validatePathString:j,_validateWritablePath:x,child:Q,connectDatabaseEmulator:$,get:k,getDatabase:z,ref:C,remove:M,set:H,update:K},Symbol.toStringTag,{value:"Module"})),G=()=>{const{getToken:_}=W(),d=f(!1),m=f(null),p=async()=>{const a=await _();return{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}},n=async(a,e={})=>{d.value=!0,m.value=null;try{const r=await p();return await $fetch(a,{...e,headers:{...r,...e.headers}})}catch(r){throw m.value=r.message||"An error occurred",r}finally{d.value=!1}},b=(a,e)=>n(a,{method:"GET",params:e}),y=(a,e)=>n(a,{method:"POST",body:e}),v=(a,e)=>n(a,{method:"PUT",body:e}),g=(a,e)=>n(a,{method:"PATCH",body:e}),w=a=>n(a,{method:"DELETE"}),{$firebase:i}=T(),P=async a=>{try{const{ref:e,get:r}=await u(async()=>{const{ref:s,get:c}=await Promise.resolve().then(()=>l);return{ref:s,get:c}},void 0,import.meta.url),t=e(i.database,a);return(await r(t)).val()}catch(e){throw console.error("Firebase get error:",e),e}},D=async(a,e)=>{try{const{ref:r,set:t}=await u(async()=>{const{ref:s,set:c}=await Promise.resolve().then(()=>l);return{ref:s,set:c}},void 0,import.meta.url),o=r(i.database,a);await t(o,e)}catch(r){throw console.error("Firebase set error:",r),r}},A=async(a,e)=>{try{const{ref:r,update:t}=await u(async()=>{const{ref:s,update:c}=await Promise.resolve().then(()=>l);return{ref:s,update:c}},void 0,import.meta.url),o=r(i.database,a);await t(o,e)}catch(r){throw console.error("Firebase update error:",r),r}},E=async a=>{try{const{ref:e,remove:r}=await u(async()=>{const{ref:o,remove:s}=await Promise.resolve().then(()=>l);return{ref:o,remove:s}},void 0,import.meta.url),t=e(i.database,a);await r(t)}catch(e){throw console.error("Firebase remove error:",e),e}};return{loading:h(d),error:h(m),get:b,post:y,put:v,patch:g,delete:w,getFirebaseData:P,setFirebaseData:D,updateFirebaseData:A,removeFirebaseData:E,getAuthHeaders:p}};export{G as u};
